{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import'./App.css';// Pages\nimport Landing from'./pages/Landing';import Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./pages/Dashboard';import ChildPortal from'./pages/ChildPortal';// Modules\nimport GreetingPractice from'./modules/greetings/GreetingPractice';import EmotionPractice from'./modules/emotions/EmotionPractice';import ScenarioPractice from'./modules/scenarios/ScenarioPractice';import ConversationPractice from'./modules/conversation/ConversationPractice';import VideoPractice from'./modules/video/VideoPractice';// Auth Context\nimport{AuthProvider,useAuth}from'./context/AuthContext';// Protected Route Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requireRole}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-screen\",children:\"Loading...\"});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(requireRole&&user.role!==requireRole){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;};function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Landing,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requireRole:\"parent\",children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/learn\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ChildPortal,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/learn/greetings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(GreetingPractice,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/learn/emotions\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(EmotionPractice,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/learn/scenarios\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ScenarioPractice,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/learn/conversation\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ConversationPractice,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/learn/video\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(VideoPractice,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","Landing","Login","Register","Dashboard","ChildPortal","GreetingPractice","EmotionPractice","ScenarioPractice","ConversationPractice","VideoPractice","AuthProvider","useAuth","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","requireRole","user","loading","className","to","replace","role","App","path","element"],"sources":["C:/piyush/learning-platform (8)/learning-platform/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport './App.css';\n\n// Pages\nimport Landing from './pages/Landing';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport ChildPortal from './pages/ChildPortal';\n\n// Modules\nimport GreetingPractice from './modules/greetings/GreetingPractice';\nimport EmotionPractice from './modules/emotions/EmotionPractice';\nimport ScenarioPractice from './modules/scenarios/ScenarioPractice';\nimport ConversationPractice from './modules/conversation/ConversationPractice';\nimport VideoPractice from './modules/video/VideoPractice';\n\n// Auth Context\nimport { AuthProvider, useAuth } from './context/AuthContext';\n\n// Protected Route Component\nconst ProtectedRoute = ({ children, requireRole }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return <div className=\"loading-screen\">Loading...</div>;\n  }\n  \n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n  \n  if (requireRole && user.role !== requireRole) {\n    return <Navigate to=\"/\" replace />;\n  }\n  \n  return children;\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <div className=\"App\">\n          <Routes>\n            {/* Public Routes */}\n            <Route path=\"/\" element={<Landing />} />\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/register\" element={<Register />} />\n            \n            {/* Parent/Teacher Routes */}\n            <Route \n              path=\"/dashboard\" \n              element={\n                <ProtectedRoute requireRole=\"parent\">\n                  <Dashboard />\n                </ProtectedRoute>\n              } \n            />\n            \n            {/* Child Learning Routes */}\n            <Route \n              path=\"/learn\" \n              element={\n                <ProtectedRoute>\n                  <ChildPortal />\n                </ProtectedRoute>\n              } \n            />\n            \n            <Route \n              path=\"/learn/greetings\" \n              element={\n                <ProtectedRoute>\n                  <GreetingPractice />\n                </ProtectedRoute>\n              } \n            />\n            \n            <Route \n              path=\"/learn/emotions\" \n              element={\n                <ProtectedRoute>\n                  <EmotionPractice />\n                </ProtectedRoute>\n              } \n            />\n            \n            <Route \n              path=\"/learn/scenarios\" \n              element={\n                <ProtectedRoute>\n                  <ScenarioPractice />\n                </ProtectedRoute>\n              } \n            />\n            \n            <Route \n              path=\"/learn/conversation\" \n              element={\n                <ProtectedRoute>\n                  <ConversationPractice />\n                </ProtectedRoute>\n              } \n            />\n            \n            <Route \n              path=\"/learn/video\" \n              element={\n                <ProtectedRoute>\n                  <VideoPractice />\n                </ProtectedRoute>\n              } \n            />\n            \n            {/* 404 */}\n            <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n          </Routes>\n        </div>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}