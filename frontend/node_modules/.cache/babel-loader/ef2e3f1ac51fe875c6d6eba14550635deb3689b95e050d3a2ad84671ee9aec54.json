{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../context/AuthContext';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{user,logout,API_URL}=useAuth();const[children,setChildren]=useState([]);const[showAddChild,setShowAddChild]=useState(false);const[newChildName,setNewChildName]=useState('');const[newChildAge,setNewChildAge]=useState('');const navigate=useNavigate();useEffect(()=>{if(user){fetchChildren();}},[user]);const fetchChildren=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/api/children/\").concat(user.id));setChildren(response.data.data||[]);}catch(error){console.error('Error fetching children:',error);}};const handleAddChild=async e=>{e.preventDefault();try{await axios.post(\"\".concat(API_URL,\"/api/children\"),{parentId:user.id,name:newChildName,age:parseInt(newChildAge)});setNewChildName('');setNewChildAge('');setShowAddChild(false);fetchChildren();}catch(error){console.error('Error adding child:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDF93 Learning Platform\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user===null||user===void 0?void 0:user.email,\"!\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"btn btn-danger\",style:{marginLeft:'20px'},children:\"Logout\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{marginTop:'40px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Parent Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-2\",style:{marginTop:'30px'},children:[children.map(child=>/*#__PURE__*/_jsxs(\"div\",{className:\"card module-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:child.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Age: \",child.age]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>{localStorage.setItem('currentChild',JSON.stringify(child));navigate('/learn');},children:\"Start Learning\"})]},child.id)),/*#__PURE__*/_jsx(\"div\",{className:\"card module-card\",onClick:()=>setShowAddChild(true),style:{cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'4rem'},children:\"\\u2795\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Add Child\"})]})})]}),showAddChild&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{maxWidth:'500px',padding:'40px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Child Profile\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddChild,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newChildName,onChange:e=>setNewChildName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newChildAge,onChange:e=>setNewChildAge(e.target.value),required:true,min:\"3\",max:\"25\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:()=>setShowAddChild(false),children:\"Cancel\"})]})]})]})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useAuth","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Dashboard","user","logout","API_URL","children","setChildren","showAddChild","setShowAddChild","newChildName","setNewChildName","newChildAge","setNewChildAge","navigate","fetchChildren","response","get","concat","id","data","error","console","handleAddChild","e","preventDefault","post","parentId","name","age","parseInt","className","email","onClick","style","marginLeft","marginTop","map","child","localStorage","setItem","JSON","stringify","cursor","display","alignItems","justifyContent","textAlign","fontSize","position","top","left","right","bottom","background","maxWidth","padding","onSubmit","type","value","onChange","target","required","min","max","gap"],"sources":["C:/piyush/learning-platform (8)/learning-platform/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Dashboard = () => {\n  const { user, logout, API_URL } = useAuth();\n  const [children, setChildren] = useState([]);\n  const [showAddChild, setShowAddChild] = useState(false);\n  const [newChildName, setNewChildName] = useState('');\n  const [newChildAge, setNewChildAge] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (user) {\n      fetchChildren();\n    }\n  }, [user]);\n\n  const fetchChildren = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/api/children/${user.id}`);\n      setChildren(response.data.data || []);\n    } catch (error) {\n      console.error('Error fetching children:', error);\n    }\n  };\n\n  const handleAddChild = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post(`${API_URL}/api/children`, {\n        parentId: user.id,\n        name: newChildName,\n        age: parseInt(newChildAge)\n      });\n      setNewChildName('');\n      setNewChildAge('');\n      setShowAddChild(false);\n      fetchChildren();\n    } catch (error) {\n      console.error('Error adding child:', error);\n    }\n  };\n\n  return (\n    <div className=\"dashboard\">\n      <nav className=\"navbar\">\n        <div className=\"container\">\n          <h2>ðŸŽ“ Learning Platform</h2>\n          <div>\n            <span>Welcome, {user?.email}!</span>\n            <button onClick={logout} className=\"btn btn-danger\" style={{ marginLeft: '20px' }}>\n              Logout\n            </button>\n          </div>\n        </div>\n      </nav>\n\n      <div className=\"container\" style={{ marginTop: '40px' }}>\n        <h1>Parent Dashboard</h1>\n\n        <div className=\"grid grid-2\" style={{ marginTop: '30px' }}>\n          {children.map(child => (\n            <div key={child.id} className=\"card module-card\">\n              <h3>{child.name}</h3>\n              <p>Age: {child.age}</p>\n              <button \n                className=\"btn btn-primary\"\n                onClick={() => {\n                  localStorage.setItem('currentChild', JSON.stringify(child));\n                  navigate('/learn');\n                }}\n              >\n                Start Learning\n              </button>\n            </div>\n          ))}\n\n          <div className=\"card module-card\" onClick={() => setShowAddChild(true)} style={{ cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n            <div style={{ textAlign: 'center' }}>\n              <div style={{ fontSize: '4rem' }}>âž•</div>\n              <h3>Add Child</h3>\n            </div>\n          </div>\n        </div>\n\n        {showAddChild && (\n          <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, background: 'rgba(0,0,0,0.5)', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n            <div className=\"card\" style={{ maxWidth: '500px', padding: '40px' }}>\n              <h2>Add Child Profile</h2>\n              <form onSubmit={handleAddChild}>\n                <div className=\"input-group\">\n                  <label>Name</label>\n                  <input\n                    type=\"text\"\n                    value={newChildName}\n                    onChange={(e) => setNewChildName(e.target.value)}\n                    required\n                  />\n                </div>\n                <div className=\"input-group\">\n                  <label>Age</label>\n                  <input\n                    type=\"number\"\n                    value={newChildAge}\n                    onChange={(e) => setNewChildAge(e.target.value)}\n                    required\n                    min=\"3\"\n                    max=\"25\"\n                  />\n                </div>\n                <div style={{ display: 'flex', gap: '10px' }}>\n                  <button type=\"submit\" className=\"btn btn-primary\">Add</button>\n                  <button type=\"button\" className=\"btn\" onClick={() => setShowAddChild(false)}>Cancel</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}